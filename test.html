<!DOCTYPE html>
<html>
<head>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.3.5.js"></script>
    <script src="https://rawgit.com/aws/amazon-cognito-identity-js/master/dist/aws-cognito-sdk.min.js"></script>
    <script src="https://rawgit.com/aws/amazon-cognito-identity-js/master/dist/amazon-cognito-identity.min.js"></script>
</head>
<body>
    <script>
        // Configure the region
        AWS.config.region = 'us-east-1'; 

        // Configure the credentials
        AWS.config.credentials = new AWS.CognitoIdentityCredentials({
            IdentityPoolId: 'us-east-1:12345678-1234-1234-1234-123456789012'
        });
        var poolData = { UserPoolId : 'us-east-1_ExaMPle',
        ClientId : '1example23456789'
        };
        // Get the current user
        var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);
        var cognitoUser = userPool.getCurrentUser();

        if (cognitoUser != null) {
            cognitoUser.getSession(function(err, session) {
                if (err) {
                    alert(err);
                    return;
                }
                console.log('session validity: ' + session.isValid());
            });
        } else {
            // If the user is not signed in, redirect to the sign-in page
            window.location.href = "https://guestuserauth.auth.us-east-1.amazoncognito.com/login?response_type=token&client_id=3h931vdjdqa3s6mene834ck3q&redirect_uri=http%3A%2F%2Flocalhost%3A8000%2Flogged_in.html";
        }
    </script>
</body>
</html>
